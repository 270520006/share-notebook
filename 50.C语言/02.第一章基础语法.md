---
title: 第一章 基础语法
date: 2021-05-11 14:30:00
permalink: /c/note1/
author: 
    name: eric
    href: https://wfmiss.cn
---
# 第一章 基础语法

**注意事项：编写代码注意：代码里的符号一定要是英文状态下的标点符号！！！，不要用中文！！！**

## 1、输出函数
`printf("Hello World!\n");`
`""`⾥⾯的内容叫做`“字符串”`，`printf`会把其中的内容原封不动地输出` \n `表⽰需要在输出的结果后⾯换⼀⾏。

补充：
- 如果你在使⽤Dev C++ 4.9.9.2
`system("pause");`
- 让程序运⾏完成后，窗⼝还能留下
- 不是Dev C++ 4.9.9.2就不需要这个了

## 2、运算符

**算数运算符**
|C符号|意义|
|:---:|:---:|
|+|加|
|-|减|
|`*`|乘|
|/|除|
|%|取余|
|()|括号|
|++|自增|
|--|自减|

**关系运算符**
|C符号|意义|
|:---:|:---:|
|>|大于|
|<|小于|
|==|等于|
|>=|大于等于|
|<=|小于等于|
|!=|不等于|

**逻辑运算符**
|C符号|意义|
|:---:|:---:|
|！|非|
|&&|与|
|`||`|或|

位运算符：【>>,<<,~,|,^,&】
赋值运算符：【`=`】
条件运算符（三元运算符）：【`常量表达式？返回值1:返回值2;`】
逗号运算符：【`,`】
指针运算符：【`*`,&】
求字节数运算符：【`sizeof`】

## 3、变量定义
变量定义的⼀般形式就是：`<类型名称> <变量名称>;`
例如：`int a;`

## 4、变量的名字
- 变量需要⼀个名字，变量的名字是⼀种“标识符”，意思是它是⽤来识别这个和那个的不同的名字。

- 标识符有标识符的构造规则。基本的原则是：标识符只能由字⺟、数字和下划线组成，数字不可以出现在第⼀个位置上，C语⾔的关键字（有的地⽅叫它们保留字）不可以⽤做标识符。
  **C语⾔的保留字：**

```txt
  auto、break、case、char、const 、continue、default、do、double 、else、enum、extern、float、for、goto、if、int、long、register、return、short、signed、sizeof、static、 struct、switch、typedef、union、unsigned、void、volatile、while、inline、restrict
```

  **赋值和初始化**
  `int price = 0;`
  这⼀⾏，定义了⼀个变量。变量的名字是`price`，类型是`int`，初始值是`0`。
  这⾥的`“＝”`是⼀个赋值运算符，表⽰将`“＝”`右边的值赋给左边的变量。

## 5、变量初始化
如果没有进行初始化变量，直接使用，运算出来的结果会是一个很奇怪的值。
格式为：`<类型名称> <变量名称> = <初始值>;`
> 当赋值发⽣在定义变量的时候，就像程序1中的第7⾏那样，就是变量的初始化。虽然C语⾔并没有强制要求所有的变量都在定义的地⽅做初始化，但是所有的变量在第⼀次被使⽤（出现在赋值运算符的右边）之前被应该赋值⼀次。

## 6、变量类型
C是⼀种有类型的语⾔，所有的变量在使⽤之前必须定义或声明，所有的变量必须具有确定的数据类型。数据类型表⽰在变量中可以存放什么样的数据，变量中只能存放指定类型的数据，程序运⾏过程中也不能改变变量的类型。

**六种基本数据类型。**

|变量类型|说明|字节大小|
|:---:|:---:|:---:|
|char|字符型类型|1|
|short|短整型类型|2|
|int|整型类型|4|
|long|长整型类型|4or8|
|float|单精度浮点类型|4|
|double|双精度浮点类型|8|

- `signed`:有符号，可省略
- `unsigned`:无符号

## 7、常量

C99允许使用**常变量**，方法是在定义变量时，前面加一个关键字`const`。
符号常量`#define`：用法`#define 常量名 值 `，注意行末没有分号。

## 8、转义字符
转义字符及其作用

![](https://cdn.jsdelivr.net/gh/wfmiss/pictures/C_language/20210510175613.png)

## 9、输入函数
`scanf(“格式控制字符串”, 地址表列);`
格式控制字符串的作用与printf函数相同，但不能显示非格式字符串，也就是不能显示提示字符串。地址表列中给出各变量的地址。地址是由地址运算符“&”后跟变量名组成的。
例如：
```C
#include <stdio.h>
int main(void){
    int a,b,c;
    printf("input a,b,c\n");
    scanf("%d%d%d",&a,&b,&c);
    printf("a=%d,b=%d,c=%d",a,b,c);
    return 0;
}
```

** 格式字符串**
格式字符串的一般形式为：
`%[*][输入数据宽度][长度]类型`
其中有方括号[]的项为任选项。各项的意义如下。
**类型**
表示输入数据的类型，其格式符和意义如下表所示。

|  格式  |             字符意义             |
| :----: | :------------------------------: |
|   %d   |          输入十进制整数          |
|   %o   |          输入八进制整数          |
|   %x   |         输入十六进制整数         |
|   %u   |       输入无符号十进制整数       |
| %f或%e | 输入实型数(用小数形式或指数形式) |
|   %c   |           输入单个字符           |
|   %s   |            输入字符串            |

**使用scanf函数还必须注意以下几点：**

1. scanf函数中没有精度控制，如：scanf("%5.2f",&a);是非法的。不能企图用此语句输入小数为2位的实数。
2. scanf中要求给出变量地址，如给出变量名则会出错。如 scanf("%d",a);是非法的，应改为scnaf("%d",&a);才是合法的。
3. 在输入多个数值数据时，若格式控制串中没有非格式字符作输入数据之间的间隔则可用空格，TAB或回车作间隔。C编译在碰到空格，TAB，回车或非法数据(如对“%d”输入“12A”时，A即为非法数据)时即认为该数据结束。
4. 在输入字符数据时，若格式控制串中无非格式字符，则认为所有输入的字符均为有效字符。

**printf格式附加字符**

|       字符        |                          说明                          |
| :---------------: | :----------------------------------------------------: |
|         l         |         长整型整数，可加在格式符d、o、x、u前面         |
| m(代表一个正整数) |                      数据最小宽度                      |
| n(代表一个正整数) | 对实数，表示输出n位小数；对字符串，表示截取的字符个数; |
|         -         |               输出的数字或字符域内向左靠               |

一般形式为：`% 附加字符 格式字符`

**scanf格式附加字符**
| 字符 |                             说明                             |
| :--: | :----------------------------------------------------------: |
|  l   | 输入长整型数据（可用%ld，%lo，%lx，%lu）以及double型数据（用%lf或%le） |
|  h   |             输入短整型数据（可用%hd，%ho，%hx）              |
| 域宽 |       指定输入输入数据所占宽度（列数），宽域应为正整数       |
| `*`  |                本输入项在读入后不赋给相应变量                |

## 10、运算符优先级和结合性

![](https://cdn.jsdelivr.net/gh/wfmiss/pictures/C_language/20210511161914.png)

![](https://cdn.jsdelivr.net/gh/wfmiss/pictures/C_language/20210511161913.png)

![](https://cdn.jsdelivr.net/gh/wfmiss/pictures/C_language/20210511161912.png)

**上表中可以总结出如下规律：**

1. 结合方向只有三个是从右往左，其余都是从左往右。
2. 所有双目运算符中只有赋值运算符的结合方向是从右往左。
3. 另外两个从右往左结合的运算符也很好记，因为它们很特殊：一个是单目运算符，一个是三目运算符。
4. C语言中有且只有一个三目运算符。
5. 逗号运算符的优先级最低，要记住。
6. 此外要记住，对于优先级：算术运算符 > 关系运算符 > 逻辑运算符 > 赋值运算符。逻辑运算符中“逻辑非 !”除外。

## 11、一些容易出错的优先级问题

上表中，优先级同为1 的几种运算符如果同时出现，那怎么确定表达式的优先级呢？这是很多初学者迷糊的地方。下表就整理了这些容易出错的情况：

| 优先级问题                                        | 表达式               | 经常误认为的结果                                          | 实际结果                                                     |
| ------------------------------------------------- | -------------------- | --------------------------------------------------------- | ------------------------------------------------------------ |
| `.` 的优先级高于 `*`（-> 操作符用于消除这个问题） | `*`p.f               | p 所指对象的字段 f，等价于： (`*`p).f                     | 对 p 取 f 偏移，作为指针，然后进行解除引用操作，等价于： `*`(p.f) |
| [] 高于 `*`                                       | int `*`ap[]          | ap 是个指向 int 数组的指针，等价于： int (`*`ap)[]        | ap 是个元素为 int 指针的数组，等价于： int `*`(ap [])        |
| 函数 () 高于 `*`                                  | int `*`fp()          | fp 是个函数指针，所指函数返回 int，等价于： int (`*`fp)() | fp 是个函数，返回 int`*`，等价于： int`* `( fp() )           |
| == 和 != 高于位操作                               | (val & mask != 0)    | (val &mask) != 0                                          | val & (mask != 0)                                            |
| == 和 != 高于赋值符                               | c = getchar() != EOF | (c = getchar()) != EOF                                    | c = (getchar() != EOF)                                       |
| 算术运算符高于位移 运算符                         | msb << 4 + lsb       | (msb << 4) + lsb                                          | msb << (4 + lsb)                                             |
| 逗号运算符在所有运 算符中优先级最低               | i = 1, 2             | i = (1,2)                                                 | (i = 1), 2                                                   |

## 12、不同类型数据间的混合运算
（1）+、-、`*`、/、运算符两侧中有一个为float或double型，结果都为double型数据。
（2）如果 int型与float型数据进行运算，会先把int型和和float型数据转换为double型，然后再进行运算，结果是double型
（3）字符（char）型数据与整形数据进行运算，就是把字符型数据的ASCLL代码与整形数据进行运算。如：12+'A'等效于12+65结果为77，字符型数据与实型数据进行运算，则会将字符型的ASCLL代码转换为double型数据然后再进行运算。

以上的转换都是由编译器自动完成转换的，知道其转换的原理即可，不用自己进行转换。
