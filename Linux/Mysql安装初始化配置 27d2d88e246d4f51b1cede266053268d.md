# Mysql安装初始化配置

下载mysql源安装包
shell> wget [http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm](http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm)

安装mysql源
shell> yum localinstall mysql57-community-release-el7-8.noarch.rpm

检查mysql源是否安装成功
shell> yum repolist enabled | grep "mysql.*community.*"

可以修改vim /etc/yum.repos.d/mysql-community.repo源，改变默认安装的mysql版本。比如要安装5.6版本，将5.7源的enabled=1改成enabled=0。然后再将5.6源的enabled=0改成enabled=1即可

2、安装MySQL
shell> yum install mysql-community-server

3、启动MySQL服务
shell> systemctl start mysqld

查看MySQL的启动状态
shell> systemctl status mysqld

4、开机启动
shell> systemctl enable mysqld
shell> systemctl daemon-reload

5 运行MySQL
shell> service mysqld start

获取初始密码
grep "password" /var/log/mysqld.log

#### 下面是返回的内容，密码也末尾
2018-09-30 T08:06:46.998346Z 1 [Note] A temporary password is generated for root@localhost: y3h2rpgryw.E

修改密码
使用临时密码登陆
mysql -u root -p
1
##由于 5.7 处于安全考虑，不让设置简单密码，要先更改其密码机制
set global validate_password_policy=LOW;
## 设置密码长度
set global validate_password_length=6;
## 修改密码
SET PASSWORD = PASSWORD('密码');
ALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER;
flush privileges;
远程和本地访问
use mysql;
update user set host = '%' where user = 'root';

赋予任何主机访问MySQL服务的权限
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;

## 使配置生效
flush privileges;
设置字符集
## 登陆数据库后
set character_set_database=utf8;
flush privileges;

## mysql安装过程

下载mysql源安装包
shell> wget [http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm](http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm)

安装mysql源
shell> yum localinstall mysql57-community-release-el7-8.noarch.rpm

检查mysql源是否安装成功
shell> yum repolist enabled | grep "mysql.*community.*"

可以修改vim /etc/yum.repos.d/mysql-community.repo源，改变默认安装的mysql版本。比如要安装5.6版本，将5.7源的enabled=1改成enabled=0。然后再将5.6源的enabled=0改成enabled=1即可

2、安装MySQL
shell> yum install mysql-community-server

3、启动MySQL服务
shell> systemctl start mysqld

查看MySQL的启动状态
shell> systemctl status mysqld

4、开机启动
shell> systemctl enable mysqld
shell> systemctl daemon-reload

5 运行MySQL
shell> service mysqld start

获取初始密码
grep "password" /var/log/mysqld.log

#### 下面是返回的内容，密码也末尾
2018-09-30 T08:06:46.998346Z 1 [Note] A temporary password is generated for root@localhost: y3h2rpgryw.E

修改密码
使用临时密码登陆
mysql -u root -p
1
##由于 5.7 处于安全考虑，不让设置简单密码，要先更改其密码机制
set global validate_password_policy=LOW;
## 设置密码长度
set global validate_password_length=6;
## 修改密码
SET PASSWORD = PASSWORD('密码');
ALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER;
flush privileges;
远程和本地访问
use mysql;
update user set host = '%' where user = 'root';
## 使配置生效
flush privileges;
设置字符集
## 登陆数据库后
set character_set_database=utf8;
flush privileges;