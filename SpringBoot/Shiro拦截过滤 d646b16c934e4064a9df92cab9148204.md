# Shiro拦截过滤

## 授权：

```java
/**
     * @param defaultWebSecurityManager
     * @return
     */
    @Bean
    public ShiroFilterFactoryBean getShiroFilterFactoryBean(@Qualifier(value = "WebSecurityManager") DefaultWebSecurityManager defaultWebSecurityManager) {
        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();
        //设置安全管理器
        shiroFilterFactoryBean.setSecurityManager(defaultWebSecurityManager);

        /**
         * 添加shiro内置过滤器
         *
         * anon     所有的用户都可以访问
         * authc    必须认证了才能访问
         * user     必须拥有记住我功能才能访问
         * perms    拥有对某个资源的权限才能访问
         * role     拥有某个角色权限才能访问
         */
        // 初始化拦截参数map
        Map<String, String> filterMap = new LinkedHashMap<>();

        // 配置拦截授权信息
        filterMap.put("/user/**", "authc");

        // 设置拦截参数
        shiroFilterFactoryBean.setFilterChainDefinitionMap(filterMap);

        // 如果没有权限去toLogin 页面
        shiroFilterFactoryBean.setLoginUrl("/toLogin");

        return shiroFilterFactoryBean;
    }
```